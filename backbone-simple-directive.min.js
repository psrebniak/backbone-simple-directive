(function(e){var t=typeof self==="object"&&self.self===self&&self||typeof global==="object"&&global.global===global&&global;if(typeof define==="function"&&define.amd){define(["underscore","jquery","backbone"],e)}else{e(t._,t.jQuery||t.Zepto||t.ender||t.$,t.Backbone)}})(function(e,t,i){var n=i.DeepModel||i.Model;i.Directives={};i.Directives["data-content"]=function(e,t,i,n){var o=function(t,i){e.html(i)};o(n,n.get(t));n.on("change:"+t,o)};i.Directives["data-visible"]=function(e,t,i,n){var o=function(t,i){e.toggle(!!i)};o(n,n.get(t));n.on("change:"+t,o)};i.Directives["data-change"]=function(e,t,i,n){var o=function(t,i){var n=e.prop("tagName");if(e.attr("type")==="checkbox"){e.prop("checked",!!i)}else if(e.attr("type")==="radio"){if(i===e.val()){e.prop("checked",true)}}else if(n==="INPUT"||n==="SELECT"){e.val(i)}};n.on("change:"+t,o);var r=function(){if(e.attr("type")==="checkbox"){n.set(t,e.prop("checked"))}else{n.set(t,e.val())}};e.on("change input blur",r);r()};i.Directives["data-class"]=function(t,i,n,o){var r={};try{r=JSON.parse(i)}catch(a){if(console&&console.warn){console.warn("Backbone-simple-directive JSON parse error: "+a.toString())}return false}e.each(r,function(e,i){t.toggleClass(i,!!o.get(e));o.on("change:"+e.toString(),function(e,n){t.toggleClass(i,!!n)})})};i.Directives["data-ui"]=function(e,t,i,n){i.$ui=i.$ui||{};i.$ui[t]=e};i.View.prototype.setupDirective=function(){if(!e.isString(this.modelName)){if(console&&console.warn){console.warn("Backbone-simple-directive error: modelName is required for directiveView")}return false}this.$model=this.$model||new n;var o=e.filter(this.$("[data-model]").toArray(),function(e){return t(e).attr("data-model")===this.modelName&&t(e).data("model-bound")!==true}.bind(this));e.each(o,function(n){t(n).data("model-bound",true);e.each(i.Directives,function(i,o){if(!t(n).attr(o)||!e.isFunction(i)){return}i(t(n),t(n).attr(o),this,this.$model)}.bind(this))}.bind(this));return true};return i.Directives});
//# sourceMappingURL=backbone-simple-directive.min.map