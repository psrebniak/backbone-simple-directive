(function(e){var t=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global;if(typeof define==="function"&&define.amd){define(["underscore","jquery","backbone"],e)}else{e(t._,t.jQuery||t.Zepto||t.ender||t.$,t.Backbone)}})(function(e,t,i){var o=i.DeepModel||i.Model;i.Directives={};i.Directives["data-content"]=function(e,t,i){var o=function(t,i){e.html(i)};o(i,i.get(t));i.on("change:"+t,o)};i.Directives["data-visible"]=function(e,t,i){var o=function(t,i){e.toggle(!!i)};o(i,i.get(t));i.on("change:"+t,o)};i.Directives["data-change"]=function(e,t,i){var o=function(t,i){var o=e.prop("tagName");if(e.attr("type")==="checkbox"){e.prop("checked",!!i)}else if(e.attr("type")==="radio"){if(i==e.val()){e.prop("checked",true)}}else if(o==="INPUT"||o==="SELECT"){e.val(i)}};i.on("change:"+t,o);var n=function(){if(e.attr("type")==="checkbox"){i.set(t,e.prop("checked"))}else{i.set(t,e.val())}};e.on("change input blur",n);n()};i.Directives["data-class"]=function(t,i,o){var n={};try{n=JSON.parse(i)}catch(r){throw"Backbone-simple-directive JSON parse error: "+r.toString()}e.each(n,function(e,i){o.on("change:"+e.toString(),function(e,o){t.toggleClass(i,!!o)})})};i.View.prototype.setupDirective=function(){if(!e.isString(this.modelName)){throw"Backbone-simple-directive error: modelName is required for directiveView"}this.$model=this.$model||new o;var n=e.filter(this.$("[data-model]").toArray(),function(e){return t(e).attr("data-model")===this.modelName&&t(e).data("model-bound")!==true},this);e.each(n,function(o){t(o).data("model-bound",true);e.each(i.Directives,function(i,n){if(!t(o).attr(n)||!e.isFunction(i)){return}i(t(o),t(o).attr(n),this.$model)},this)},this)};return i.Directives});
//# sourceMappingURL=backbone-simple-directive.min.map